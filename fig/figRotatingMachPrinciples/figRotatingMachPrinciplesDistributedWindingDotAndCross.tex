\documentclass[b5paper]{standalone}
\usepackage{fontspec}
\usepackage{polyglossia}
\usepackage{circuitikz}
\usepackage{ifthen}   
\usepackage{amsmath}
\usetikzlibrary{calc}
\usetikzlibrary{decorations.pathreplacing}
%
\setmainlanguage{english}
\setotherlanguages{arabic}
\newfontfamily\arabicfont[Scale=1.0,Script=Arabic]{Scheherazade}
\newfontfamily\urdufont[Scale=1.0,Script=Arabic]{XB Tabriz}

\input{figRotatingMachPrinciplesLibrary.tex}

\begin{document}
\begin{urdufont}
\begin{tikzpicture}
%
\pgfmathsetmacro{\j}{0.25}
\pgfmathsetmacro{\shiftY}{-1.5 cm}
%

\begin{scope}[xscale=1/90]   %,xscale=1/3 cm
%axis
\draw[gray](-2*90,0)--(6*90,0)node[right]{$\theta$};
\draw[gray](0,0)--(0,3.5*\j)node[above]{$\tau$};
%
\draw[gray](-180,-3*\j)--(-135,-3*\j)--(-135,-\j)--(-90,-\j)--(-90,\j)--(-45,\j)--(-45,3*\j)--(0,3*\j);
\draw (0,3*\j)--(45,3*\j)--(45,\j)--(90,\j)--(90,-\j)--(135,-\j)--(135,-3*\j)--(225,-3*\j)--(225,-\j)--(270,-\j)--(270,\j)--(315,\j)--(315,3*\j)--(360,3*\j);
\draw[gray] (360,3*\j)--(405,3*\j)--(405,\j)--(450,\j)--(450,-\j)--(495,-\j)--(495,-3*\j)--(515,-3*\j);
\draw(315/90,1)--(470/90,1);
%text
\draw[gray] (0,0)--(0,-0.1)node[gray,below]{$0^\circ$};
\draw[gray] (360,0)--(360,-0.1)node[gray,below]{$360^\circ$};
\draw[gray,dashed]  (-90,\j)--(-140-0.6*90,\j)node[left,solid]{$\tfrac{N i}{6}$};
\draw[gray,dashed]  (-45,3*\j)--++(-0.9*90,0)--++(-0.3*90,\j)--(-140-0.6*90,4*\j)node[left,solid]{$\tfrac{N i}{2}$};
%
\draw[gray,stealth-] (67.5,\j)--++(0,0.3)--++(30,0.3)node[right]{$\tfrac{N i}{3}$};
\draw[gray,stealth-](67.5,-\j)--++(0,-0.3);
\draw[gray](67.5,-\j)++(-15,0)--++(30,0);
\end{scope}
%
\begin{scope}[yshift=\shiftY]
\dotLinear{0.5,1,1.5,4.5,5,5.5}
\crossLinear{-1.5,-1,-0.5,2.5,3,3.5}
\slotSegment{-1.5/-1,-1/-0.5,-0.5/0.5,0.5/1,1/1.5,1.5/2.5,2.5/3,3/3.5,3.5/4.5,4.5/5,5/5.5}
\slotTop{-1.5/5.5}
%text
\draw node[gray] at (0.5,-0.5) {$a_{45}$};
\draw node[gray] at (1.5,-0.5) {$a_{135}$};
\draw node[gray] at (2.5,-0.5) {$a_{45}'$};
\draw node[gray] at (3.5,-0.5) {$a_{135}'$};
\end{scope}
%
\end{tikzpicture}%
\end{urdufont}
\end{document}
%---------------------

